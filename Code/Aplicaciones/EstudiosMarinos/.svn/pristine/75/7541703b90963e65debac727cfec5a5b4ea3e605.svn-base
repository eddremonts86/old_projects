function event_info(){
    this.__data_store = null;
    this.Init = function()
    {

        Ext.require('Ext.chart.*');
        Ext.require(['Ext.Window', 'Ext.fx.target.Sprite', 'Ext.layout.container.Fit', 'Ext.window.MessageBox']);

        var _menu_item_config =
        {
            text: 'Gestión de Mareas',
            id: 'event_info_menu_id',
            iconCls: 'nomencladores',
            handler: Ext.Function.bind(this.ShowMainWindow, this)
        };
        App.InsertMenuItem('Gestión del Sistema', _menu_item_config);
    }
    // ========================================================================//
    this.BuildMainPanel = function(filterObj)
    {
        this.cellEditing = new Ext.grid.plugin.CellEditing({clicksToEdit: 1});
        var meses = new Ext.data.SimpleStore({
            fields: ['id', 'mes'],
            data : [['1','Enero'],['2','Febrero'],
                ['3','Marzo'],['4','Abril'],
                ['5','Mayo'],['6','Junio'],
                ['7','Julio'],['8','Agosto'],
                ['9','Septiembre'],['10','Octubre'],
                ['11','Noviembre'],['12','Diciembre']]
        });
        var mes =  Ext.create('Ext.form.ComboBox', {
            fieldLabel: 'Choose State',
            queryMode: 'local',
            width:150,
            id:'mes',
            name:'mes',
            store:meses,
            displayField: 'mes',
            valueField: 'id',
            hideLabel:true

        });
        this.__data_store = App.BuildJsonStore('event_info.event_info.CargarDatoslugar',{
            fields: [
                {name: 'id'},
                {name: 'nombre'}
            ],
            proxy: {
                type: 'ajax',
                reader: {type: 'json',root: 'rows',totalProperty: 'results'}
            },
            autoLoad: false
        });
        var lugar =  Ext.create('Ext.form.ComboBox', {
            fieldLabel: 'Choose State',
            queryMode: 'local',
            width:275,
            id:'lugar',
            name:'lugar',
            store:this.__data_store,
            displayField: 'nombre',
            valueField: 'id',
            hideLabel:true,
            pageSize: 7,
            listConfig: {
                loadingText: 'Cargando...',
                emptyText: 'No existen datos.'
            }

        });
        var anno =  new Ext.form.field.Number({
            anchor: '100%',
            name: 'anno',
            id: 'anno',
            hideLabel:true,
            width:150,
            fieldLabel: 'Bottles of Beer',
            value:2014,
            maxValue: 2025,
            minValue: 2007
        });
        Ext.create('Ext.data.Store', {
            storeId:'simpsonsStore',
            fields:['dia',
                    'hora00_A', 'hora00_V', 'hora00_D',
                    'hora01_A', 'hora01_V', 'hora01_D',
                    'hora02_A', 'hora02_V', 'hora02_D',
                    'hora03_A', 'hora03_V', 'hora03_D',
                    'hora04_A', 'hora04_V', 'hora04_D',
                    'hora05_A', 'hora05_V', 'hora05_D',
                    'hora06_A', 'hora06_V', 'hora06_D',
                    'hora07_A', 'hora07_V', 'hora07_D',
                    'hora08_A', 'hora08_V', 'hora08_D',
                    'hora09_A', 'hora09_V', 'hora09_D',
                    'hora10_A', 'hora10_V', 'hora10_D',
                    'hora11_A', 'hora11_V', 'hora11_D',
                    'hora12_A', 'hora12_V', 'hora12_D',
                    'hora13_A', 'hora13_V', 'hora13_D',
                    'hora14_A', 'hora14_V', 'hora14_D',
                    'hora15_A', 'hora15_V', 'hora15_D',
                    'hora16_A', 'hora16_V', 'hora16_D',
                    'hora17_A', 'hora17_V', 'hora17_D',
                    'hora18_A', 'hora18_V', 'hora18_D',
                    'hora19_A', 'hora19_V', 'hora19_D',
                    'hora20_A', 'hora20_V', 'hora20_D',
                    'hora21_A', 'hora21_V', 'hora21_D',
                    'hora22_A', 'hora22_V', 'hora22_D',
                    'hora23_A', 'hora23_V', 'hora23_D',
                    'hora24_A', 'hora24_V', 'hora24_D'
                    ],
            data:{'items':[
                { 'dia': '1'},
                { 'dia': '2'},
                { 'dia': '3'},
                { 'dia': '4'},
                { 'dia': '5'},
                { 'dia': '6'},
                { 'dia': '7'},
                { 'dia': '8'},
                { 'dia': '9'},
                { 'dia': '10'},
                { 'dia': '11'},
                { 'dia': '12'},
                { 'dia': '13'},
                { 'dia': '14'},
                { 'dia': '15'},
                { 'dia': '16'},
                { 'dia': '17'},
                { 'dia': '18'},
                { 'dia': '19'},
                { 'dia': '20'},
                { 'dia': '21'},
                { 'dia': '22'},
                { 'dia': '23'},
                { 'dia': '24'},
                { 'dia': '25'},
                { 'dia': '26'},
                { 'dia': '27'},
                { 'dia': '28'},
                { 'dia': '29'},
                { 'dia': '30'},
                { 'dia': '31'}

            ]},
            pageSize: 31,
            proxy: {
                type: 'memory',
                reader: {
                    type: 'json',
                    root: 'items'
                }
            }
        });
        Ext.define('User', {
            extend: 'Ext.data.Model',
            fields: [
                {name: 'hora', type: 'string'},
                {name: 'altura',type: 'int'},
                {name: 'velocidad',type: 'int'},
                {name: 'dir',type: 'int'}
            ],
            proxy: {
                type: 'memory',
                reader: {
                    type: 'json',
                    root: 'items'
                }
            }
        });
        Ext.define('WeatherPoint', {
            extend: 'Ext.data.Model',
            id:'prueba',
            fields: ['Hora', 'Altura','Velocidad','Dirección']
        });
        this.store1 = Ext.create('Ext.data.Store', {
            model: 'WeatherPoint',
            data :[
            { 'Hora':00,  "Altura":-23,  "Velocidad":78, "Dirección":65},
            { 'Hora':01,  "Altura":21,  "Velocidad":45, "Dirección":76},
            { 'Hora':02,  "Altura":12,  "Velocidad":56, "Dirección":78},
            { 'Hora':03,  "Altura":84,  "Velocidad":54, "Dirección":65},
            { 'Hora':04,  "Altura":74,  "Velocidad":78, "Dirección":41},
            { 'Hora':05,  "Altura":21,  "Velocidad":95, "Dirección":74},
            { 'Hora':06,  "Altura":-95,  "Velocidad":41, "Dirección":32},
            { 'Hora':07,  "Altura":35,  "Velocidad":85, "Dirección":54},
            { 'Hora':08,  "Altura":74,  "Velocidad":65, "Dirección":95},
            { 'Hora':09,  "Altura":48,  "Velocidad":4, "Dirección":12},
            { 'Hora':10,  "Altura":85,  "Velocidad":35, "Dirección":24},
            { 'Hora':11,  "Altura":32,  "Velocidad":65, "Dirección":25},
            { 'Hora':12,  "Altura":-14,  "Velocidad":26, "Dirección":87},
            { 'Hora':13,  "Altura":23,  "Velocidad":78, "Dirección":65},
            { 'Hora':14,  "Altura":21,  "Velocidad":45, "Dirección":76},
            { 'Hora':15,  "Altura":12,  "Velocidad":56, "Dirección":78},
            { 'Hora':16,  "Altura":84,  "Velocidad":54, "Dirección":65},
            { 'Hora':17,  "Altura":-74,  "Velocidad":78, "Dirección":41},
            { 'Hora':18,  "Altura":21,  "Velocidad":95, "Dirección":74},
            { 'Hora':19,  "Altura":95,  "Velocidad":41, "Dirección":32},
            { 'Hora':20,  "Altura":35,  "Velocidad":85, "Dirección":54},
            { 'Hora':21,  "Altura":-74,  "Velocidad":65, "Dirección":95},
            { 'Hora':22,  "Altura":48,  "Velocidad":4, "Dirección":12},
            { 'Hora':23,  "Altura":85,  "Velocidad":35, "Dirección":24},
            { 'Hora':24,  "Altura":32,  "Velocidad":65, "Dirección":25}
             ]
        });
        var _grid = new Ext.grid.Panel({
            id: 'event_info_grid_id',
            height: App.GetDesktopHeigth() - 35,
            width: '100%',
            region: 'center',
            frame: false,
            columnLines: true,
            plugins: [this.cellEditing],
            store: Ext.data.StoreManager.lookup('simpsonsStore'),
            columns: [
                {header: 'Dia',menuDisabled: true,sortable : false,dataIndex: 'dia',width: 40, locked: true},
                {
                    text: 'Hora - 00',
                    columns: [
                        {
                        text     : 'Altura',
                        sortable : true,
                        dataIndex: 'hora00_A',
                        width: 60,
                        editor: {allowBlank: false}
                        },
                        {
                        text     : 'Velocidad',
                        sortable : true,
                        dataIndex: 'hora00_V',
                        width: 80,
                        editor: {allowBlank: false}
                        },
                        {
                        text     : 'Dirección',
                        sortable : true,  width: 80,
                        dataIndex: 'hora00_D',
                        editor: {allowBlank: false}
                    }]
                },
                {
                    text: 'Hora - 01',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora01_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora01_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora01_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 02',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora02_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora02_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora02_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 03',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora03_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora03_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora03_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 04',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora04_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora04_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora04_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 05',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora05_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora05_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora05_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 06',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora06_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora06_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora06_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 07',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora07_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora07_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora07_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 08',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora08_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora08_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora08_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 09',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora09_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora09_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora09_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 10',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora10_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora10_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora10_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 11',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora11_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora11_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora11_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 12',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora12_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora12_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora12_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 13',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora13_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora13_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora13_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 14',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora14_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora14_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora14_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 15',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora15_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora15_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora15_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 16',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora16_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora16_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora16_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 17',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora17_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora17_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora17_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 18',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora18_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora18_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora18_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 19',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora19_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora19_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora19_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 20',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora20_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora20_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora20_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 21',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora21_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora21_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora21_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 22',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora22_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora22_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora22_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 23',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora23_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora23_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora23_D',
                            editor: {allowBlank: false}
                        }]
                },
                {
                    text: 'Hora - 24',
                    columns: [
                        {
                            text     : 'Altura',
                            sortable : true,
                            dataIndex: 'hora24_A',
                            width: 60,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Velocidad',
                            sortable : true,
                            dataIndex: 'hora24_V',  width: 80,
                            editor: {allowBlank: false}
                        },
                        {
                            text     : 'Dirección',
                            sortable : true,  width: 80,
                            dataIndex: 'hora24_D',
                            editor: {allowBlank: false}
                        }]
                }
                ],
            viewConfig: {
                forceFit: true
            },
            bbar:{
                id: 'event_info_tbar_id',
                items: [
                    Ext.create('Ext.toolbar.Paging', {
                            store: Ext.data.StoreManager.lookup('simpsonsStore'),
                            displayInfo: true,
                            pageSize: 31,
                            displayMsg: 'Dias: {0} - {1} de {2}',
                            emptyMsg: "No existen datos"
                    }),'->',
                    lugar,mes,anno,
                    ]
                 },
            listeners: {
                itemdblclick:function(This, record, item, index, e, eOpts ){
                   var title = 'Gráfico del Dia: "Dia '+record.data.dia+'"';
                   Ext.getCmp('chart_panel').setTitle(title);

                   var obj=record.data;

                    var data = [
                        { 'Hora':00,  "Altura":23,  "Velocidad":78, "Dirección":65},
                        { 'Hora':01,  "Altura":21,  "Velocidad":45, "Dirección":76},
                        { 'Hora':02,  "Altura":12,  "Velocidad":56, "Dirección":78},
                        { 'Hora':03,  "Altura":84,  "Velocidad":54, "Dirección":65},
                        { 'Hora':04,  "Altura":74,  "Velocidad":78, "Dirección":41},
                        { 'Hora':05,  "Altura":21,  "Velocidad":95, "Dirección":74},
                        { 'Hora':06,  "Altura":95,  "Velocidad":41, "Dirección":32},
                        { 'Hora':07,  "Altura":35,  "Velocidad":85, "Dirección":54},
                        { 'Hora':08,  "Altura":74,  "Velocidad":65, "Dirección":95},
                        { 'Hora':09,  "Altura":48,  "Velocidad":4, "Dirección":12},
                        { 'Hora':10,  "Altura":85,  "Velocidad":35, "Dirección":24},
                        { 'Hora':11,  "Altura":32,  "Velocidad":65, "Dirección":25},
                        { 'Hora':12,  "Altura":14,  "Velocidad":26, "Dirección":87},
                        { 'Hora':13,  "Altura":23,  "Velocidad":78, "Dirección":65},
                        { 'Hora':14,  "Altura":21,  "Velocidad":45, "Dirección":76},
                        { 'Hora':15,  "Altura":12,  "Velocidad":56, "Dirección":78},
                        { 'Hora':16,  "Altura":84,  "Velocidad":54, "Dirección":65},
                        { 'Hora':17,  "Altura":74,  "Velocidad":78, "Dirección":41},
                        { 'Hora':18,  "Altura":21,  "Velocidad":95, "Dirección":74},
                        { 'Hora':19,  "Altura":95,  "Velocidad":41, "Dirección":32},
                        { 'Hora':20,  "Altura":35,  "Velocidad":85, "Dirección":54},
                        { 'Hora':21,  "Altura":74,  "Velocidad":65, "Dirección":95},
                        { 'Hora':22,  "Altura":48,  "Velocidad":4, "Dirección":12},
                        { 'Hora':23,  "Altura":85,  "Velocidad":35, "Dirección":24},
                        { 'Hora':24,  "Altura":32,  "Velocidad":65, "Dirección":25}
                    ];
                    var data_new = Ext.create('Ext.data.JsonStore', {
                        fields: ['Hora', 'Altura','Velocidad','Dirección'],
                        data: data
                    });

                   Ext.getCmp('chart').getStore().removeAll();
                   Ext.getCmp('chart').getStore().add(data);
                  // Ext.getCmp('chart').store.reload();
                   Ext.getCmp('chart').getStore().load();

//                   console.log(data_new);
//                   console.log(Ext.getCmp('chart').getStore());
                }
            }
        });
        var chart =  Ext.create('Ext.chart.Chart', {
            style: 'background:#fff',
            id:'chart',
            name:'chart',
            width: 600,
            height:'100%',
            shadow: true,
            animate: true,
            theme: 'Category1',
            store: this.store1,
            legend: {position: 'top'},
            axes: [
                {
                    title: 'Valores',
                    type: 'Numeric',
                    position: 'left',
                    fields: ['Altura','Velocidad','Dirección'],
                    minimum: -120,
                    maximum: 120,
                    minorTickSteps: 1,
                    grid: {
                        odd: {
                            opacity: 1,
                            fill: '#ddd',
                            stroke: '#bbb',
                            'stroke-width': 0.5
                        }
                    }
                },
                {
                    title: 'Horas del dia',
                    type: 'Numeric',
                    position: 'bottom',
                    fields: ['Hora'],
                    dateFormat: 'ga',
                    minimum: 0,
                    maximum: 24
                }
            ],
            series: [

                {
                    type: 'line',
                    axis: 'left',
                    smooth: true,
                    fill: true,
                    xField: 'Hora',
                    yField: 'Velocidad',
                    highlight: {
                        size: 7,
                        radius: 7
                    },
                    markerConfig: {
                        type: 'circle',
                        size: 4,
                        radius: 4,
                        'stroke-width': 0
                    },
                    tips: {
                        trackMouse: true,
                        width: 120,
                        height: 50,
                        layout: 'fit',
                        renderer: function(klass, item) {
                            var storeItem = item.storeItem,
                                data = [{
                                    name: 'Hora',
                                    data: storeItem.get('Velocidad')
                                }], i, l, html;

                            this.setTitle("Velocidad :" + storeItem.get('Velocidad')+"<br>Hora :"+ storeItem.get('Hora'));
                        }
                    }
                },
                {
                    type: 'line',
                    axis: 'left',
                    smooth: true,
                    fill: true,
                    xField: 'Hora',
                    yField: 'Dirección',
                    highlight: {
                        size: 7,
                        radius: 7
                    },
                    markerConfig: {
                        type: 'cross',
                        size: 4,
                        radius: 4,
                        'stroke-width': 0
                    },
                    tips: {
                        trackMouse: true,
                        width: 120,
                        height: 50,
                        layout: 'fit',
                        renderer: function(klass, item) {
                            var storeItem = item.storeItem,
                                data = [{
                                    name: 'Hora',
                                    data: storeItem.get('Dirección')
                                }], i, l, html;

                            this.setTitle("Dirección :" + storeItem.get('Dirección')+"<br>Hora :"+ storeItem.get('Hora'));
                        }
                    }

                },
                {
                    type: 'line',
                    xField: 'Hora',
                    yField: 'Altura',
                    smooth: true,
                    fill: true,
                    highlight: {
                        size: 7,
                        radius: 7
                    },
                    markerConfig: {
                        type: 'circle',
                        size: 4,
                        radius: 4,
                        'stroke-width': 0
                    },
                    tips: {
                        trackMouse: true,
                        width: 120,
                        height: 50,
                        layout: 'fit',
                        renderer: function(klass, item) {
                            var storeItem = item.storeItem,
                                data = [{
                                    name: 'Hora',
                                    data: storeItem.get('Altura')
                                }], i, l, html;

                            this.setTitle("Altura :" + storeItem.get('Altura')+"<br>Hora :"+ storeItem.get('Hora'));
                        }
                    }
                }
            ]
        });
        var panelIz=Ext.create('Ext.panel.Panel', {
                        title: 'Gráfico del Dia: "Datos de Ejemplo"',
                        layout:'fit',
                        id:'chart_panel',
                        name:'chart_panel',
                        autoScroll:true,
                        collapsed :true,
                        collapsible :true,
                        items:chart,
                        region :'east',
                        tools: [
                            {type:'maximize',
                            handler:function(){
                                var chart_mayor =  Ext.create('Ext.chart.Chart', {
                                    style: 'background:#fff',
                                    id:'chart_mayor',
                                    name:'chart_mayor',
                                    shadow: true,
                                    animate: true,
                                    theme: 'Category1',
                                    store: Ext.getCmp('chart').store,
                                    legend: {position: 'top'},
                                    axes: [
                                        {
                                            title: 'Valores',
                                            type: 'Numeric',
                                            position: 'left',
                                            fields: ['Altura','Velocidad','Dirección'],
                                            minimum: -120,
                                            maximum: 120,
                                            minorTickSteps: 1,
                                            grid: {
                                                odd: {
                                                    opacity: 1,
                                                    fill: '#ddd',
                                                    stroke: '#bbb',
                                                    'stroke-width': 0.5
                                                }
                                            }
                                        },
                                        {
                                            title: 'Horas del dia',
                                            type: 'Numeric',
                                            position: 'bottom',
                                            fields: ['Hora'],
                                            dateFormat: 'ga',
                                            minimum: 0,
                                            maximum: 24
                                        }
                                    ],
                                    series: [

                                        {
                                            type: 'line',
                                            axis: 'left',
                                            smooth: true,
                                            fill: true,
                                            xField: 'Hora',
                                            yField: 'Velocidad',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            markerConfig: {
                                                type: 'circle',
                                                size: 4,
                                                radius: 4,
                                                'stroke-width': 0
                                            },
                                            tips: {
                                                trackMouse: true,
                                                width: 120,
                                                height: 50,
                                                layout: 'fit',
                                                renderer: function(klass, item) {
                                                    var storeItem = item.storeItem,
                                                        data = [{
                                                            name: 'Hora',
                                                            data: storeItem.get('Velocidad')
                                                        }], i, l, html;

                                                    this.setTitle("Velocidad :" + storeItem.get('Velocidad')+"<br>Hora :"+ storeItem.get('Hora'));
                                                }
                                            }
                                        },
                                        {
                                            type: 'line',
                                            axis: 'left',
                                            smooth: true,
                                            fill: true,
                                            xField: 'Hora',
                                            yField: 'Dirección',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            markerConfig: {
                                                type: 'cross',
                                                size: 4,
                                                radius: 4,
                                                'stroke-width': 0
                                            },
                                            tips: {
                                                trackMouse: true,
                                                width: 120,
                                                height: 50,
                                                layout: 'fit',
                                                renderer: function(klass, item) {
                                                    var storeItem = item.storeItem,
                                                        data = [{
                                                            name: 'Hora',
                                                            data: storeItem.get('Dirección')
                                                        }], i, l, html;

                                                    this.setTitle("Dirección :" + storeItem.get('Dirección')+"<br>Hora :"+ storeItem.get('Hora'));
                                                }
                                            }

                                        },
                                        {
                                            type: 'line',
                                            xField: 'Hora',
                                            yField: 'Altura',
                                            smooth: true,
                                            fill: true,
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            markerConfig: {
                                                type: 'circle',
                                                size: 4,
                                                radius: 4,
                                                'stroke-width': 0
                                            },
                                            tips: {
                                                trackMouse: true,
                                                width: 120,
                                                height: 50,
                                                layout: 'fit',
                                                renderer: function(klass, item) {
                                                    var storeItem = item.storeItem,
                                                        data = [{
                                                            name: 'Hora',
                                                            data: storeItem.get('Altura')
                                                        }], i, l, html;

                                                    this.setTitle("Altura :" + storeItem.get('Altura')+"<br>Hora :"+ storeItem.get('Hora'));
                                                }
                                            }
                                        }
                                    ]
                                });
                                Ext.create('Ext.window.Window', {
                                    title:  Ext.getCmp('chart_panel').title,
                                    height: '99%',
                                    modal:true,
                                    width: '99%',
                                    layout: 'fit',
                                    items:chart_mayor
                                }).show();

                            }}
                        ]

        });
        var _panel = new Ext.Panel({
            title: 'Gestión de Mareas',
            border: true,
            frame: true,
            layout: 'border',
            height: App.GetDesktopHeigth(),
            width: '100%',
            items: [_grid,panelIz],
            listeners: {
                afterrender: function() {
                    this.__data_store.load({params:{start:0,limit:25}});
                },
                scope : this
            }
        });
        return _panel;
    }
    // ========================================================================//
    this.Free = function()
    {
        this.__data_store.removeAll(true);
        delete this.__data_store;
        this.__data_store = null;
    }
    // ========================================================================//
    this.ShowMainWindow = function()
    {
        App.ShowMainPanel(null);
    }
}
App.RegisterModule('event_info', new event_info());