<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

</head>
<body>
<div id="mapasOpen" style="height: 400px; width: 500px;"></div>
<script  src="OpenLayers.js"></script>
<script type="text/javascript">
    OpenLayers.IMAGE_RELOAD_ATTEMPTS = 5;
    OpenLayers.DOTS_PER_INCH = 25.4 / 0.28;
    var map = new OpenLayers.Map('mapasOpen',{
        projection: "EPSG:4326",
        maxExtent: new OpenLayers.Bounds(-84.55 , 18.60, -74.15, 25.15),
        maxResolution: 0.01525,
        controls: [
            new OpenLayers.Control.Navigation({
                dragPanOptions: {
                    enableKinetic: true
                }
            }),
            new OpenLayers.Control.Zoom(),
            new OpenLayers.Control.Attribution()
        ],
        units: 'degrees',
        numZoomLevels:13
    });
    var format = 'image/png';
    // setup single tiled layer
    var untiled = new OpenLayers.Layer.WMS("Geoserver layers - Untiled", "http://192.168.152.175:8080/googlewms/gmx/wms",{
        LAYERS: 'Gaviota',
        STYLES: '',
        format: format
    },{
        singleTile: true,
        ratio: 1,
        isBaseLayer: true,
        yx : {'EPSG:4326' : true}
    });
    map.addLayer(untiled);
    var vector_format = new OpenLayers.Format.GeoJSON({});
    var vector_protocol = new OpenLayers.Protocol.HTTP({url: 'hoteles.json',format: vector_format});
    var vector_strategies = [new OpenLayers.Strategy.Fixed()];
    var hoteles = new OpenLayers.Layer.Vector("Hoteles",{
        styleMap: new OpenLayers.StyleMap({
            externalGraphic: "js/openlayers/icons/hotel.png",
            backgroundXOffset: 0,
            backgroundYOffset: -7,
            graphicZIndex: 11,
            backgroundGraphicZIndex: 10,
            pointRadius: 10
        }),
        protocol: vector_protocol,
        strategies: vector_strategies
    });
    map.addLayer(hoteles);
    var sf = new OpenLayers.Control.SelectFeature(hoteles);
    sf.selectStyle = {
        externalGraphic: "js/openlayers/icons/hotel_select.png",
        backgroundXOffset: 0,
        backgroundYOffset: -7,
        graphicZIndex: 11,
        backgroundGraphicZIndex: 10,
        pointRadius: 10
    };
    var popup = "";
    sf.onSelect = function(params){
        if(popup !="")
            map.removePopup(popup);
        var datos ='' /*'<div><strong>Hotel:</strong>'+params.data.name+'<br/><strong>Descripción:</strong>'+params.data.desc+'<br/><a href="#">Ver más...</a></div>';*/
        popup = new OpenLayers.Popup.FramedCloud('popup',new OpenLayers.LonLat(params.geometry.x,params.geometry.y),null,datos,null,true);
        map.addPopup(popup);
    };
    map.addControl(sf);
    sf.activate();
    map.zoomToMaxExtent();
</script>
</body>
</html>